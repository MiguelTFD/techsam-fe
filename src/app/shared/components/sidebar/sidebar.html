<aside 
  class="sidebar" 
  [class.sidebar--collapsed]="!isOpen"
  [attr.aria-expanded]="isOpen">
  
  <!-- Header del sidebar -->
  <div class="sidebar__header">
    <div class="sidebar__brand" *ngIf="isOpen">
      <h2 class="sidebar__title">CakeCandy</h2>
    </div>
    
    <button 
      class="sidebar__toggle"
      (click)="toggleSidebar()"
      [attr.aria-label]="isOpen ? 'Contraer menú' : 'Expandir menú'">
      <i-lucide [name]="getToggleIcon()" class="sidebar__toggle-icon"></i-lucide>
    </button>
  </div>

  <!-- Navegación -->
  <nav class="sidebar__nav">
    <ul class="sidebar__list">
      <li *ngFor="let item of navItems" class="sidebar__item">
        <a 
          [routerLink]="item.url"
          routerLinkActive="sidebar__link--active"
          class="sidebar__link"
          [attr.title]="!isOpen ? item.title : null">
          
          <i-lucide 
            [name]="item.icon" 
            class="sidebar__icon"
            [attr.aria-label]="item.title">
          </i-lucide>
          
          <span class="sidebar__text" *ngIf="isOpen">
            {{ item.title }}
          </span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- Footer del sidebar -->
  <div class="sidebar__footer" *ngIf="currentUser">
    <div class="sidebar__user">
      <div class="sidebar__user-avatar">
        <!-- ✅ Usando el icono desde la propiedad 'icons' -->
        <i-lucide [name]="icons.user" class="sidebar__user-icon"></i-lucide>
      </div>
      
      <div class="sidebar__user-info" *ngIf="isOpen">
        <span class="sidebar__user-name">{{ currentUser.name }}</span>
        <span class="sidebar__user-email">{{ currentUser.email }}</span>
      </div>
    </div>

    <button 
      class="sidebar__logout"
      (click)="onLogout()"
      [attr.title]="!isOpen ? 'Cerrar sesión' : null">
      
      <!-- ✅ Usando el icono desde la propiedad 'icons' -->
      <i-lucide [name]="icons.logOut" class="sidebar__logout-icon"></i-lucide>
      
      <span class="sidebar__logout-text" *ngIf="isOpen">
        Cerrar Sesión
      </span>
    </button>
  </div>
</aside>